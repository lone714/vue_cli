"use strict";(self["webpackChunkvue_cli"]=self["webpackChunkvue_cli"]||[]).push([[847],{8847:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(3396),i=n(9242),o=n(7139);const u=(0,r._)("br",null,null,-1),l={key:1,class:"productContainer"},s=["src","alt"],c=["onClick"],a=["onUpdate:modelValue"],d=["onClick"];function h(t,e,n,h,p,g){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("main",null,[(0,r._)("header",null,[(0,r.Uk)(" search: "),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>p.search=t)},null,512),[[i.nr,p.search]]),u,(0,r.Uk)(" $"),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>p.min=t)},null,512),[[i.nr,p.min]]),(0,r.Uk)("-"),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>p.max=t)},null,512),[[i.nr,p.max]])]),p.load?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)("loading...")],64)):((0,r.wg)(),(0,r.iD)("div",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.product,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:t.id},[(0,r._)("p",null,(0,o.zw)(t.title),1),(0,r.Uk)(" "+(0,o.zw)(g.parseRating(t.rating))+" ",1),(0,r._)("img",{src:t.image,alt:t.title},null,8,s),(0,r._)("p",null,(0,o.zw)(g.parsePrice(t.price))+"ÂÖÉ",1),(0,r._)("div",null,[(0,r._)("button",{onClick:n=>g.reduceCount(e,t)},"-",8,c),(0,r.wy)((0,r._)("input",{type:"number",min:"0","onUpdate:modelValue":t=>p.count[e]=t},null,8,a),[[i.nr,p.count[e]]]),(0,r._)("button",{onClick:n=>g.addCount(e,t)},"+",8,d)])])))),128))]))]),(0,r._)("aside",null,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.order,((t,e)=>((0,r.wg)(),(0,r.iD)("li",{key:t.id},(0,o.zw)(e)+"-"+(0,o.zw)(t.title)+": "+(0,o.zw)(t.count),1)))),128))]),(0,r._)("p",null,"Á∏ΩÂÉπÔºö"+(0,o.zw)(g.total)+"ÂÖÉ",1)])])}n(7658);var p={data(){return{load:!1,source:[],sourceCount:0,order:[],count:[],search:"",min:0,max:0}},computed:{product(){let t=this.source;return this.min>0&&(t=t.filter(((t,e)=>t.price>this.min))),this.max>0&&(t=t.filter((t=>t.price<this.max))),""!==this.search&&(t=t.filter((t=>t.title.includes(this.search)))),t},total(){let t=0;for(const e in this.product)t+=this.count[e]*this.product[e]["price"];return parseInt(t)}},watch:{total:{handler:function(t,e){t>1e3&&alert("‰Ω†Ë¶ÅÈ§ìÊ≠ª‰∫Ü")}}},methods:{parseRating(t){if(!t)return null;let e="";const n=parseInt(t.rate);for(let r=0;r<n;r++)e+="üåü";return`${e}${t.count}`},parsePrice(t){return"TWD "+33*t},getResource(){this.load=!0,fetch("https://fakestoreapi.com/products/").then((t=>t.json())).then((t=>{this.source=t;for(let e in this.product)this.count.push(0);this.load=!1,this.sourceCount=this.source.length}))},addCount(t,e){this.count[t]+=1;const n=this.order.findIndex((t=>(console.log(t),t.id===e.id)));n>=0?this.order[n]["count"]+=1:this.order.push({id:e.id,title:e.title,price:e.price,count:1}),this.setStorage()},reduceCount(t,e){if(this.count[t]<=0)return;this.count[t]-=1;const n=this.order.findIndex((t=>t.id===e.id));n<0||(this.order[n]["count"]>1?this.order[n]["count"]-=1:this.order.splice(n,1),this.setStorage())},getStorage(){let t=localStorage.getItem("turleShop");t=JSON.parse(t),this.order=t||[]},setStorage(){const t=JSON.stringify(this.order);localStorage.setItem("turleShop",t)}},created(){},mounted(){this.getResource(),this.getStorage(),this.sourceCount=this.source.length},beforeUnmount(){}},g=n(89);const m=(0,g.Z)(p,[["render",h]]);var f=m}}]);
//# sourceMappingURL=847.1338f47d.js.map