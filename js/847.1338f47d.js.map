{"version":3,"file":"js/847.1338f47d.js","mappings":"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","sources":["webpack://vue_cli/./src/views/ProductView.vue","webpack://vue_cli/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n    <div>\n        <main>\n            <header>\n                search: <input type=\"text\" v-model=\"search\"><br>\n                $<input type=\"number\" v-model=\"min\">-<input type=\"number\" v-model=\"max\">\n            </header>\n            <template v-if=\"load\">loading...</template>\n            <template v-else >\n                <div class=\"productContainer\">\n                    <div v-for=\"(item, index) in product\" :key=\"item.id\">\n                        <p>{{item.title}}</p>\n                        {{parseRating(item.rating)}}\n                        <img :src=\"item.image\" v-bind:alt=\"item.title\">\n                        <p>{{parsePrice(item.price)}}ÂÖÉ</p>\n                        <div>\n                            <button v-on:click=\"reduceCount(index, item)\">-</button>\n                            <input type=\"number\" min=\"0\" v-model=\"count[index]\">\n                            <button @click=\"addCount(index, item)\">+</button>\n                        </div>\n                    </div>\n                </div>\n            </template>\n        </main>\n        <aside>\n            <ul>\n                <li v-for=\"(item, index) in order\" :key=\"item.id\">\n                    {{index}}-{{item.title}}: {{item.count}}\n                </li>\n            </ul>\n            <p>Á∏ΩÂÉπÔºö{{total}}ÂÖÉ</p> \n        </aside>\n    </div>\n</template>\n<script>\nexport default {\ndata(){\n        return {\n            load: false,\n  source: [],\n            sourceCount: 0,\n            order: [],\n            // product: [],\n            count: [],\n  search: '',\n  min: 0,\n  max: 0,\n        }\n      },\n\t\t\tcomputed:{\n\t\t\t\tproduct(){\n\t\t\t\t\tlet cache = this.source\n\t\t\t\t\tif(this.min > 0){//ÁØ©ÈÅ∏ÊúÄÂ∞èÂÉπÈå¢\n\t\t\t\t\t\tcache = cache.filter((item, index)=>{\n\t\t\t\t\t\t\treturn item.price > this.min\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif(this.max > 0){//ÁØ©ÈÅ∏ÊúÄÂ§ßÂÉπÈå¢\n\t\t\t\t\t\tcache = cache.filter(item=>{\n\t\t\t\t\t\t\treturn item.price < this.max\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif(this.search !== ''){//ÁØ©ÈÅ∏Áõ∏Á¨¶Ê®ôÈ°å\n\t\t\t\t\t\tcache = cache.filter(item=>{\n\t\t\t\t\t\t\treturn item.title.includes(this.search)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\treturn cache\n\t\t\t\t},\n\t\t\t\ttotal(){\n\t\t\t\t\tlet total = 0\n\t\t\t\t\tfor ( const countIndex in this.product) {\n\t\t\t\t\t\ttotal += this.count[countIndex] * this.product[countIndex]['price']\n\t\t\t\t\t}\n\t\t\t\t\treturn parseInt(total)\n\t\t\t\t}\n\t\t\t},\n\t\t\twatch:{\n\t\t\t\t//Áõ£ËÅΩdataÊàñcomputed\n\t\t\t\ttotal: {\n\t\t\t\t\thandler: function(newVal, oldVal) {\n\t\t\t\t\t\tif(newVal> 1000){\n\t\t\t\t\t\t\talert('‰Ω†Ë¶ÅÈ§ìÊ≠ª‰∫Ü')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n      methods:{\n                parseRating(rating){\n                    if(!rating) return null\n                    let starStr = ''\n                    const star = parseInt(rating.rate)\n                    for (let index = 0; index < star; index++) {\n                        starStr += 'üåü'\n                    }\n                    return `${starStr}${rating.count}`\n                },\n                parsePrice(price){\n                  return `TWD ${price*33}`\n                },\n                getResource(){\n                    this.load = true\n                    fetch('https://fakestoreapi.com/products/')\n                    .then(res=>res.json())\n                    .then(json=>{\n                        this.source = json\n                        //ÂàùÂßãÂåñÂïÜÂìÅÊï∏Èáè\n                        for (let item in this.product) {\n                            this.count.push(0)\n                        }\n                        this.load = false\n                        this.sourceCount = this.source.length\n                        // console.log('method:'+this.sourceCount);\n                    })\n                },\n                addCount(index, item){\n                    this.count[index] += 1\n                    // const exits = this.order.some(orderItem => {\n                    //     // Ë®ÇÂñÆË£°Èù¢ÊúâÊ≤íÊúâ(orderItem)Â≠òÂú®Êñ∞Â¢ûÁöÑÂïÜÂìÅ(item)\n                    //     return orderItem.id === item.id\n                    // })\n                    // Â¶ÇÊûúË®ÇÂñÆÊ∏ÖÂñÆË£°ÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Â∞áÂêåidÁöÑÂïÜÂìÅÂ¢ûÂä†Êï∏Èáècount\n                    // ÂèñË®ÇÂñÆÂïÜÂìÅÁöÑÈ†ÜÂ∫è\n                    const prodIndex = this.order.findIndex(orderItem => {\n                        console.log(orderItem)\n                        return orderItem.id === item.id\n                    })\n                    if(prodIndex >= 0 ){\n                        // Â∞áË®ÇÂñÆÂïÜÂìÅÊï∏Èáè+1\n                        // this.order[prodIndex]['count'] = this.order[prodIndex]['count'] + 1 \n                        this.order[prodIndex]['count'] += 1 \n                    }else{\n                        //prodIndexÁµêÊûúÊúÉÊòØ-1\n                        //Â¶ÇÊûúË®ÇÂñÆÊ∏ÖÂñÆË£°Ê≤íÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Êñ∞Â¢û‰∏ÄÂÄãË®ÇÂñÆÂïÜÂìÅ\n                        this.order.push({\n                            id: item.id,\n                            title: item.title,\n                            price: item.price,\n                            count: 1 //init\n                        })\n                    }\n                    this.setStorage()\n                },\n                reduceCount(index, item){\n                    if(this.count[index] <= 0) return\n                    this.count[index] -= 1\n                    const prodIndex = this.order.findIndex(orderItem => {\n                        return orderItem.id === item.id\n                    })\n                    if(prodIndex < 0) return\n                    if(this.order[prodIndex]['count'] > 1){\n                        // this.order[prodIndex]['count'] = this.order[prodIndex]['count'] - 1 \n                        this.order[prodIndex]['count'] -= 1 \n                    }else{\n                        this.order.splice(prodIndex, 1)\n                    }\n                    this.setStorage()\n                },\n                getStorage(){\n                    let data = localStorage.getItem('turleShop')\n                    data = JSON.parse(data)\n                    this.order = data? data: []\n                },\n                setStorage(){\n                    //Èô£ÂàóÊàñÁâ©‰ª∂ËΩâÂ≠ó‰∏≤\n                    const data = JSON.stringify(this.order)\n                    localStorage.setItem('turleShop', data)\n                }\n      },\n\t\t\tcreated() {\n                // console.log('created:'+this.source.length);\n                // this.getResource()\n      },\n      mounted(){\n          this.getResource()\n          this.getStorage()\n          this.sourceCount = this.source.length\n          // console.log('mounted:'+this.sourceCount);\n      },\n      beforeUnmount(){\n          // alert('beforeUnmount')\n          // console.log('beforeUnmount');\n      }\n}\n</script>\n\n<style lang='scss'>\n    .productContainer{\n        display: inline-flex;\n    }\n    img{\n        height: 5rem;\n    }\n</style>","import { render } from \"./ProductView.vue?vue&type=template&id=30b29f20\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=30b29f20&lang=scss\"\n\nimport exportComponent from \"C:\\\\vue_cli_new\\\\vue_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createElementBlock","type","$data","_hoisted_1","_Fragment","key","_hoisted_2","$options","item","index","id","title","rating","src","image","alt","price","onClick","min","count","data","load","source","sourceCount","order","search","max","computed","product","cache","this","filter","includes","total","countIndex","parseInt","watch","handler","newVal","oldVal","alert","methods","parseRating","starStr","star","rate","parsePrice","getResource","fetch","then","res","json","push","length","addCount","prodIndex","findIndex","orderItem","console","log","setStorage","reduceCount","splice","getStorage","localStorage","getItem","JSON","parse","stringify","setItem","created","mounted","beforeUnmount","__exports__","render"],"sourceRoot":""}